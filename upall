#!/bin/bash

set -e

if [[ ! "$OSTYPE" == darwin* ]]; then
  return
fi

echo '# Updating heroku'
heroku update
echo '####################'

echo '# Updating rubygems'
gem update --system
gem update
echo '####################'

echo '# Updating Homebrew'
brew update
brew upgrade
echo '####################'

echo '# Updating Vim and ZSH plugins'
cd "$HOME"/src/dotfiles
./update
echo '####################'

echo '# Updating repos on remote'
ssh deployer "cd ~/bin; git pull; cd ~/src/dotfiles; git pull"
ssh lana "cd ~/bin; git pull; cd ~/src/dotfiles; git pull"
