#!/usr/bin/env ruby

def push_to_github()
  `git commit -am 'Plugin update'`
  `git push`
end

puts "Updating Ruby gems"
`gem update`

puts "Updating Homebrew recipes"
`brew update && brew upgrade`

puts "Updating RVM"
`rvm get head && rvm reload`

puts "Updating Vim plugins"
Dir.chdir(File.expand_path("~/.vim")) do
  `./plugin_update`
  a = `git status`
  push_to_github unless a =~ /nothing to commit/
end
